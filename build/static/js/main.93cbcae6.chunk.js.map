{"version":3,"sources":["services/fakeMovies.js","components/extra/pagination.jsx","components/extra/list.jsx","services/httpService.js","services/genreServices.js","services/movieServices.js","components/extra/like.jsx","components/table.jsx","components/extra/sorting.js","components/input.jsx","components/movies.jsx","components/navbar.jsx","components/rentals.jsx","components/customers.jsx","components/notFound.jsx","services/register.js","components/login.jsx","components/register.jsx","components/select.jsx","components/movieForm.jsx","components/logout.jsx","App.js","index.js"],"names":["movies","_id","title","genre","name","numberInStock","dailyRentalRate","publishDate","liked","show","likeMovies","id","map","movie","dislikeMovies","Pagination","pages","this","makeTheArray","aria-label","className","element","props","currentPage","onClick","changePage","list","pageCount","numOfMovies","pageSize","i","push","length","shift","Component","List","genreChange","currentGenre","axios","defaults","headers","common","localStorage","getItem","interceptors","response","use","error","status","Promise","reject","console","log","toast","get","post","delete","put","getGenres","a","http","config","apiUrlGenres","data","getMovies","apiUrlMovies","deleteMovie","movieId","getMovie","saveMovie","Like","Fragment","determineHeart","aria-hidden","dislikeIt","likeIt","Table","user","handleDeletion","onSort","index","to","isAdmin","sort","numeric","unSortedArray","column","order","first","second","text","Input","value","onChange","errors","type","htmlFor","Movies","state","genres","search","handleChange","target","setState","result","toLowerCase","filter","includes","tag","sortedArr","num","changeContent","limit","listOfGenre","showArray","NavBar","determineUser","Rentals","Customers","NotFound","registerUser","httpService","logInUser","email","password","Login","userName","React","createRef","account","username","schema","Joi","string","required","handleSubmit","e","preventDefault","validate","setItem","window","location","alert","validateInput","input","currentTarget","errorMsg","abortEarly","details","path","message","Object","keys","onSubmit","disabled","Register","min","Select","items","item","MovieForm","componentDidMount","match","params","number","max","newMovie","newGenre","find","genreId","history","replace","Logout","removeItem","App","jwtDecode","ex","render","pathname","component","protectingRoute","from","exact","process","ReactDOM","document","getElementsByClassName"],"mappings":"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","file":"static/js/main.93cbcae6.chunk.js","sourcesContent":["import * as genresAPI from \"./fakeGenres\";\r\n\r\nconst movies = [\r\n    {\r\n        _id: \"5b21ca3eeb7f6fbccd471815\",\r\n        title: \"Terminator\",\r\n        genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\r\n        numberInStock: 6,\r\n        dailyRentalRate: 2.5,\r\n        publishDate: \"2018-01-03T19:04:28.809Z\",\r\n        liked: false,\r\n        show: true\r\n    },\r\n    {\r\n        _id: \"5b21ca3eeb7f6fbccd471816\",\r\n        title: \"Die Hard\",\r\n        genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\r\n        numberInStock: 5,\r\n        dailyRentalRate: 2.5,\r\n        liked: false,\r\n        show: true\r\n    },\r\n    {\r\n        _id: \"5b21ca3eeb7f6fbccd471817\",\r\n        title: \"Get Out\",\r\n        genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\r\n        numberInStock: 8,\r\n        dailyRentalRate: 3.5,\r\n        liked: false,\r\n        show: true\r\n\r\n    },\r\n    {\r\n        _id: \"5b21ca3eeb7f6fbccd471819\",\r\n        title: \"Trip to Italy\",\r\n        genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\r\n        numberInStock: 7,\r\n        dailyRentalRate: 3.5,\r\n        liked: false, show: true\r\n\r\n    },\r\n    {\r\n        _id: \"5b21ca3eeb7f6fbccd47181a\",\r\n        title: \"Airplane\",\r\n        genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\r\n        numberInStock: 7,\r\n        dailyRentalRate: 3.5,\r\n        liked: false, show: true\r\n\r\n    },\r\n    {\r\n        _id: \"5b21ca3eeb7f6fbccd47181b\",\r\n        title: \"Wedding Crashers\",\r\n        genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\r\n        numberInStock: 7,\r\n        dailyRentalRate: 3.5,\r\n        liked: false,\r\n        show: true\r\n\r\n    },\r\n    {\r\n        _id: \"5b21ca3eeb7f6fbccd47181e\",\r\n        title: \"Gone Girl\",\r\n        genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\r\n        numberInStock: 7,\r\n        dailyRentalRate: 4.5,\r\n        liked: false,\r\n        show: true\r\n\r\n    },\r\n    {\r\n        _id: \"5b21ca3eeb7f6fbccd47181f\",\r\n        title: \"The Sixth Sense\",\r\n        genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\r\n        numberInStock: 4,\r\n        dailyRentalRate: 3.5,\r\n        liked: false,\r\n        show: true\r\n\r\n    },\r\n    {\r\n        _id: \"5b21ca3eeb7f6fbccd471821\",\r\n        title: \"The Avengers\",\r\n        genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\r\n        numberInStock: 7,\r\n        dailyRentalRate: 3.5, liked: false,\r\n        show: true\r\n\r\n    }\r\n];\r\n\r\nexport function getMovies() {\r\n    return movies;\r\n}\r\n\r\nexport function likeMovies(id) {\r\n    movies.map(movie => {\r\n        if (movie._id === id) {\r\n            movie.liked = true;\r\n        }\r\n    })\r\n}\r\n\r\nexport function dislikeMovies(id) {\r\n    movies.map(movie => {\r\n        if (movie._id === id) {\r\n            movie.liked = false;\r\n        }\r\n    })\r\n}\r\n\r\nexport function getMovie(id) {\r\n    return movies.find(m => m._id === id);\r\n}\r\n\r\nexport function saveMovie(movie) {\r\n    console.log(movie)\r\n    let movieInDb = movies.find(m => m._id === movie._id) || {};\r\n    movieInDb.title = movie.title;\r\n    movieInDb.genre = movie.genre;\r\n    movieInDb.numberInStock = movie.numberInStock;\r\n    movieInDb.dailyRentalRate = movie.dailyRentalRate;\r\n\r\n    console.log(movieInDb._id)\r\n    if (!movieInDb._id) {\r\n        movieInDb._id = Date.now().toString();\r\n        console.log(\"hello\")\r\n        movies.push(movieInDb);\r\n    }\r\n\r\n    return movieInDb;\r\n}\r\n\r\nexport function deleteMovie(id) {\r\n    let movieInDb = movies.find(m => m._id === id);\r\n    movies.splice(movies.indexOf(movieInDb), 1);\r\n    return movieInDb;\r\n}","import React, { Component } from \"react\";\r\nclass Pagination extends Component {\r\n  render() {\r\n    let pages = this.makeTheArray();\r\n    return (\r\n      <nav aria-label=\"Page navigation example\">\r\n        <ul className=\"pagination\">\r\n          {pages.map((element) => {\r\n            return (\r\n              <li\r\n                className={\r\n                  this.props.currentPage === element\r\n                    ? \"page-item active\"\r\n                    : \"page-item\"\r\n                }\r\n                key={element}\r\n                onClick={() => {\r\n                  this.props.changePage(element);\r\n                }}\r\n              >\r\n                <a className=\"page-link\">{element}</a>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </nav>\r\n    );\r\n  }\r\n\r\n  makeTheArray() {\r\n    let list = [];\r\n    let { numOfMovies, pageSize } = this.props;\r\n    let pageCount = numOfMovies / pageSize;\r\n    for (let i = 0; i < pageCount; i++) {\r\n      list.push(i + 1);\r\n    }\r\n    if (list.length === 1) list.shift();\r\n    return list;\r\n  }\r\n}\r\n\r\nexport default Pagination;\r\n","import React, { Component } from \"react\";\r\nclass List extends Component {\r\n  render() {\r\n    const { genre, genreChange, currentGenre } = this.props;\r\n    return (\r\n      <ul className=\"list-group m-2\">\r\n        <li\r\n          className=\"list-group-item\"\r\n          onClick={() => {\r\n            genreChange(\"All\");\r\n          }}\r\n        >\r\n          All genres\r\n        </li>\r\n        {genre.map((element) => {\r\n          let className = \"list-group-item\";\r\n          className += element.name === currentGenre ? \" active\" : \"\";\r\n          return (\r\n            <li\r\n              key={element.name}\r\n              className={className}\r\n              onClick={() => {\r\n                genreChange(element.name);\r\n              }}\r\n            >\r\n              {element.name}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default List;\r\n","import axios from \"axios\";\r\nimport { toast } from 'react-toastify';\r\n\r\naxios.defaults.headers.common['x-auth-token'] = localStorage.getItem('token')\r\n\r\naxios.interceptors.response.use(null, error => {\r\n    if (error.response && error.response.status >= 400 && error.response.status < 500)\r\n        return Promise.reject(error);\r\n\r\n    console.log('Unexpected error happened');\r\n    toast.error('Unexpected error');\r\n})\r\n\r\nfunction log() {\r\n    console.log(\"re called\")\r\n}\r\n\r\nexport default {\r\n    get: axios.get,\r\n    post: axios.post,\r\n    delete: axios.delete,\r\n    put: axios.put,\r\n    log\r\n}","import http from './httpService';\r\nimport config from '../components/config.json';\r\n\r\nasync function getGenres() {\r\n    const { data } = await http.get(config.apiUrlGenres);\r\n    return data;\r\n}\r\n\r\nexport {\r\n    getGenres\r\n}","import http from './httpService';\r\nimport config from '../components/config.json';\r\n\r\nasync function getMovies() {\r\n    let { data } = await http.get(config.apiUrlMovies);\r\n    return data;\r\n}\r\n\r\nasync function deleteMovie(movieId) {\r\n    await http.delete(config.apiUrlMovies + `/${movieId}`);\r\n}\r\n\r\nasync function getMovie(movieId) {\r\n    try {\r\n        let response = await http.get(config.apiUrlMovies + `/${movieId}`);\r\n        return response.data;\r\n    } catch (ex) {\r\n        return null;\r\n    }\r\n}\r\n\r\n\r\nasync function saveMovie(movie) {\r\n    try {\r\n        let { data } = await getMovie(movie);\r\n        await http.put(config.apiUrlMovies, movie);\r\n    } catch (ex) {\r\n        await http.post(config.apiUrlMovies, movie)\r\n    }\r\n}\r\n\r\nexport {\r\n    getMovies,\r\n    deleteMovie,\r\n    getMovie,\r\n    saveMovie,\r\n}","import React, { Component } from \"react\";\r\nimport \"font-awesome/css/font-awesome.css\";\r\n\r\nclass Like extends Component {\r\n  render() {\r\n    return <React.Fragment>{this.determineHeart()}</React.Fragment>;\r\n  }\r\n\r\n  determineHeart() {\r\n    if (!this.props.movie.liked)\r\n      return (\r\n        <i\r\n          className=\"fa fa-heart-o\"\r\n          aria-hidden=\"true\"\r\n          onClick={() => {\r\n            this.props.likeIt(this.props.movie._id);\r\n          }}\r\n        ></i>\r\n      );\r\n    return (\r\n      <i\r\n        className=\"fa fa-heart\"\r\n        aria-hidden=\"true\"\r\n        onClick={() => {\r\n          this.props.dislikeIt(this.props.movie._id);\r\n        }}\r\n      ></i>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Like;\r\n","import React, { Component } from \"react\";\r\nimport Like from \"./extra/like\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Table extends Component {\r\n  render() {\r\n    console.log(this.props.user);\r\n    const { movies, likeIt, dislikeIt, handleDeletion, onSort } = this.props;\r\n    if (movies.length === 0) {\r\n      return <h3>Sorry No Movies</h3>;\r\n    } else {\r\n      return (\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th\r\n                onClick={() => {\r\n                  onSort(\"title\", \"text\");\r\n                }}\r\n              >\r\n                Title\r\n              </th>\r\n              <th\r\n                onClick={() => {\r\n                  onSort(\"genre\", \"text\");\r\n                }}\r\n              >\r\n                Genre\r\n              </th>\r\n              <th\r\n                onClick={() => {\r\n                  onSort(\"numberInStock\", \"numeric\");\r\n                }}\r\n              >\r\n                Stock\r\n              </th>\r\n              <th\r\n                onClick={() => {\r\n                  onSort(\"dailyRentalRate\", \"numeric\");\r\n                }}\r\n              >\r\n                Rate\r\n              </th>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {movies.map((element, index) => {\r\n              return (\r\n                <tr key={element.title}>\r\n                  <td>\r\n                    <Link to={`/movies/${element._id}`}>{element.title}</Link>\r\n                  </td>\r\n                  <td>{element.genre.name}</td>\r\n                  <td>{element.numberInStock}</td>\r\n                  <td>{element.dailyRentalRate}</td>\r\n                  <td>\r\n                    <Like\r\n                      movie={element}\r\n                      likeIt={likeIt}\r\n                      dislikeIt={dislikeIt}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    {this.props.user && this.props.user.isAdmin && (\r\n                      <button\r\n                        onClick={() => {\r\n                          handleDeletion(element);\r\n                        }}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Table;\r\n","let sort = {\r\n    numeric(unSortedArray, column, order) {\r\n        unSortedArray.sort((first, second) => {\r\n            if (first[column] > second[column]) return (\r\n                order === \"acs\" ? -1 : 1\r\n            );\r\n            return (order === \"acs\" ? 1 : -1);\r\n        })\r\n        return unSortedArray;\r\n    },\r\n    text(unSortedArray, column, order) {\r\n\r\n        unSortedArray.sort((first, second) => {\r\n            if (column === \"genre\") {\r\n                first = first[column].name;\r\n                second = second[column].name;\r\n            }\r\n            else {\r\n                first = first[column];\r\n                second = second[column];\r\n            }\r\n            if (first > second) return (\r\n                order === \"acs\" ? -1 : 1\r\n            );\r\n            return order === \"acs\" ? 1 : -1\r\n\r\n        })\r\n        return unSortedArray;\r\n    }\r\n}\r\n\r\nexport { sort };","import React, { Component } from \"react\";\r\n\r\nclass Input extends Component {\r\n  render() {\r\n    const { name, value, onChange, errors, type = \"text\" } = this.props;\r\n\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor={name}>{name}</label>\r\n        <input\r\n          id={name}\r\n          type={type}\r\n          className=\"form-control\"\r\n          value={value}\r\n          onChange={onChange}\r\n          name={name}\r\n        />\r\n        {errors && <div className=\"alert alert-danger\">{errors}</div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Input;\r\n","import React, { Component } from \"react\";\r\nimport { likeMovies, dislikeMovies } from \"../services/fakeMovies\";\r\nimport \"../movies.css\";\r\nimport Pagination from \"./extra/pagination\";\r\nimport List from \"./extra/list\";\r\nimport { getGenres } from \"../services/genreServices\";\r\nimport { getMovies, deleteMovie } from \"../services/movieServices\";\r\nimport Table from \"./table\";\r\nimport { sort } from \"./extra/sorting\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Input from \"./input\";\r\n\r\nclass Movies extends Component {\r\n  state = {\r\n    movies: [],\r\n    genres: [],\r\n    pageSize: 4,\r\n    currentPage: 1,\r\n    currentGenre: \"All\",\r\n    order: \"acs\",\r\n    search: \"\",\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const genres = await getGenres();\r\n    const movies = await getMovies();\r\n    this.setState({ genres, movies });\r\n  }\r\n\r\n  render() {\r\n    let showArray = this.listOfGenre();\r\n    showArray = this.search(showArray);\r\n    let numOfMovies = showArray.length;\r\n    showArray = this.changeContent(showArray);\r\n    return (\r\n      <React.Fragment>\r\n        <List\r\n          genre={this.state.genres}\r\n          genreChange={this.genreChange}\r\n          currentGenre={this.state.currentGenre}\r\n        />\r\n        {this.props.user && (\r\n          <Link className=\"btn btn-primary m-2\" to=\"/movie/new\">\r\n            New Movie\r\n          </Link>\r\n        )}\r\n        <h1>Showing {numOfMovies} movies</h1>\r\n        <Input\r\n          name=\"search\"\r\n          onChange={this.handleChange}\r\n          value={this.state.search}\r\n        />\r\n\r\n        <Table\r\n          movies={showArray}\r\n          handleDeletion={this.handleDeletion}\r\n          likeIt={this.likeIt}\r\n          dislikeIt={this.dislikeIt}\r\n          onSort={this.onSort}\r\n          user={this.props.user}\r\n        />\r\n        <Pagination\r\n          numOfMovies={numOfMovies}\r\n          pageSize={this.state.pageSize}\r\n          changePage={this.changePage}\r\n          currentPage={this.state.currentPage}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  handleChange = ({ target }) => {\r\n    const search = target.value;\r\n    this.setState({ search, currentGenre: \"All\" });\r\n  };\r\n\r\n  search = (movies) => {\r\n    const result = this.state.search.toLowerCase();\r\n    return movies.filter((movie) => movie.title.toLowerCase().includes(result));\r\n  };\r\n\r\n  onSort = (tag, type) => {\r\n    let sortedArr = sort[type](this.state.movies, tag, this.state.order);\r\n    this.setState({\r\n      movies: sortedArr,\r\n      order: this.state.order === \"acs\" ? \"des\" : \"acs\",\r\n    });\r\n  };\r\n\r\n  changePage = (num) => {\r\n    this.setState({ currentPage: num });\r\n  };\r\n\r\n  genreChange = (genre) => {\r\n    this.setState({\r\n      currentGenre: genre,\r\n      currentPage: 1,\r\n      search: \"\",\r\n    });\r\n  };\r\n\r\n  changeContent = (movies) => {\r\n    let { pageSize, currentPage } = this.state;\r\n    let limit = (currentPage - 1) * pageSize;\r\n    let newArr = movies.filter((element, index) => {\r\n      return index >= limit && index < limit + pageSize;\r\n    });\r\n    return newArr;\r\n  };\r\n\r\n  listOfGenre = () => {\r\n    let { currentGenre, movies } = this.state;\r\n    if (currentGenre === \"All\") return movies;\r\n    let newArr = movies.filter((element) => {\r\n      return element.genre.name === currentGenre;\r\n    });\r\n    return newArr;\r\n  };\r\n\r\n  handleDeletion = async (movie) => {\r\n    await deleteMovie(movie._id);\r\n    this.setState({\r\n      movies: await getMovies(),\r\n    });\r\n  };\r\n\r\n  likeIt = (movie) => {\r\n    likeMovies(movie);\r\n    this.setState({\r\n      movies: getMovies(),\r\n    });\r\n  };\r\n\r\n  dislikeIt = (movie) => {\r\n    dislikeMovies(movie);\r\n    this.setState({\r\n      movies: getMovies(),\r\n    });\r\n  };\r\n}\r\n\r\nexport default Movies;\r\n","import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass NavBar extends Component {\r\n  render() {\r\n    console.log(this.props.user);\r\n    return (\r\n      <nav className=\"navbar navbar-light bg-light m-2\">\r\n        <div className=\"container-fluid\">\r\n          <NavLink className=\"navbar-brand\" to=\"/movies\">\r\n            Movies\r\n          </NavLink>\r\n          <NavLink className=\"navbar-brand\" to=\"/customers\">\r\n            Customers\r\n          </NavLink>\r\n          <NavLink className=\"navbar-brand\" to=\"/rentals\">\r\n            Rentals\r\n          </NavLink>\r\n          {this.determineUser()}\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n\r\n  determineUser() {\r\n    return !this.props.user ? (\r\n      <React.Fragment>\r\n        <NavLink className=\"navbar-brand\" to=\"/login\">\r\n          Log in\r\n        </NavLink>\r\n        <NavLink className=\"navbar-brand\" to=\"/register\">\r\n          Register\r\n        </NavLink>\r\n      </React.Fragment>\r\n    ) : (\r\n      <React.Fragment>\r\n        <NavLink className=\"navbar-brand\" to=\"/profile\">\r\n          {this.props.user.name}\r\n        </NavLink>\r\n        <NavLink className=\"navbar-brand\" to=\"/logout\">\r\n          Log out\r\n        </NavLink>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavBar;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Rentals extends Component {\r\n  render() {\r\n    return <h1>Hello I'm Rentals</h1>;\r\n  }\r\n}\r\n\r\nexport default Rentals;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Customers extends Component {\r\n  render() {\r\n    return <h1>Hello I'm Customer</h1>;\r\n  }\r\n}\r\n\r\nexport default Customers;\r\n","import React, { Component } from \"react\";\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return <h1>Not Found 404</h1>;\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import httpService from \"./httpService\";\r\n\r\nexport function registerUser(user) {\r\n    return httpService.post(\"http://localhost:3900/api/users\", user)\r\n}\r\n\r\nexport function logInUser(email, password) {\r\n    return httpService.post(\"http://localhost:3900/api/auth\", { email, password })\r\n}\r\n\r\nhttpService.log();","import React, { Component } from \"react\";\r\nimport Input from \"./input\";\r\nimport Joi from \"joi-browser\";\r\nimport { logInUser } from \"../services/register\";\r\n\r\nclass Login extends Component {\r\n  userName = React.createRef();\r\n  state = {\r\n    account: { username: \"\", password: \"\" },\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    username: Joi.string().required(),\r\n    password: Joi.string().required(),\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const errors = this.validate();\r\n    this.setState({ errors });\r\n    let user = { ...this.state.account };\r\n    try {\r\n      let { data } = await logInUser(user.username, user.password);\r\n      localStorage.setItem(\"token\", data);\r\n      window.location = \"/\";\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 400) {\r\n        alert(ex.response.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  validate() {\r\n    const result = Joi.validate(this.state.account, this.schema, {\r\n      abortEarly: false,\r\n    });\r\n    if (!result.error) return null;\r\n\r\n    const errors = {};\r\n    for (let error of result.error.details) {\r\n      errors[error.path[0]] = error.message;\r\n    }\r\n    return Object.keys(errors) === 0 ? {} : errors;\r\n  }\r\n\r\n  validateInput = (input) => {\r\n    if (input.name === \"username\")\r\n      if (input.value === \"\") return \"Username is required\";\r\n\r\n    if (input.name === \"password\")\r\n      if (input.value === \"\") return \"Password is required\";\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const errors = { ...this.state.errors };\r\n    const { name, value } = e.currentTarget;\r\n    const errorMsg = this.validateInput(e.currentTarget);\r\n    if (errorMsg) {\r\n      errors[name] = errorMsg;\r\n    } else delete errors[name];\r\n    const account = { ...this.state.account };\r\n    account[name] = value;\r\n    this.setState({\r\n      account,\r\n      errors,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h1>Log in</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <Input\r\n            id=\"username\"\r\n            value={this.state.account.username}\r\n            onChange={this.handleChange}\r\n            name=\"username\"\r\n            errors={\r\n              this.state.errors === null ? \"\" : this.state.errors.username\r\n            }\r\n          />\r\n\r\n          <Input\r\n            id=\"password\"\r\n            value={this.state.account.password}\r\n            onChange={this.handleChange}\r\n            name=\"password\"\r\n            type=\"password\"\r\n            errors={\r\n              this.state.errors === null ? \"\" : this.state.errors.password\r\n            }\r\n          />\r\n\r\n          <button className=\"btn btn-primary\" disabled={this.validate()}>\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import Joi from \"joi-browser\";\r\nimport React, { Component } from \"react\";\r\nimport { registerUser } from \"../services/register\";\r\nimport Input from \"./input\";\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    account: { username: \"\", password: \"\", name: \"\" },\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    password: Joi.string().min(5).required(),\r\n    username: Joi.string().email().required(),\r\n    name: Joi.string().required(),\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const errors = this.validate();\r\n    this.setState({ errors });\r\n    if (typeof error === \"Object\") {\r\n      console.log(\"Hello\");\r\n    } else {\r\n      try {\r\n        let user = { ...this.state.account };\r\n        user.email = user.username;\r\n        delete user.username;\r\n        console.log(user);\r\n        let response = await registerUser(user);\r\n        localStorage.setItem(\"token\", response.headers[\"x-auth-token\"]);\r\n        window.location = \"/\";\r\n      } catch (ex) {\r\n        if (ex.response && ex.response.status === 400) {\r\n          alert(\"User already there\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  validate = (e) => {\r\n    const result = Joi.validate(this.state.account, this.schema, {\r\n      abortEarly: false,\r\n    });\r\n    const errors = {};\r\n    if (result.error)\r\n      for (let error of result.error.details) {\r\n        errors[error.path[0]] = error.message;\r\n      }\r\n    return Object.keys(errors).length === 0 ? true : errors;\r\n  };\r\n\r\n  handleChange = ({ currentTarget }) => {\r\n    const account = { ...this.state.account };\r\n    account[currentTarget.name] = currentTarget.value;\r\n    this.setState({ account });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h1>Register</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <Input\r\n            value={this.state.account.username}\r\n            name=\"username\"\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n            errors={this.state.errors.username}\r\n          />\r\n          <Input\r\n            value={this.state.account.password}\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n            errors={this.state.errors.password}\r\n          />\r\n          <Input\r\n            value={this.state.account.name}\r\n            name=\"name\"\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n            errors={this.state.errors.name}\r\n          />\r\n          <button className=\"btn btn-primary\">Submit</button>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Select extends Component {\r\n  render() {\r\n    const { name, onChange, items, errors, value } = this.props;\r\n\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor={name}>{name}</label>\r\n        <select\r\n          id={name}\r\n          name={name}\r\n          onChange={onChange}\r\n          className=\"form-control\"\r\n          value={value}\r\n        >\r\n          <option value=\"\"></option>\r\n          {items.map((item) => (\r\n            <option value={item.name} key={item._id}>\r\n              {item.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        {errors && <div className=\"alert alert-danger\">{errors}</div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Select;\r\n","import React, { Component } from \"react\";\r\nimport Input from \"./input\";\r\nimport Select from \"./select\";\r\nimport { getGenres } from \"../services/genreServices\";\r\nimport Joi from \"joi-browser\";\r\nimport { getMovie, saveMovie } from \"../services/movieServices\";\r\n\r\nclass MovieForm extends Component {\r\n  state = {\r\n    data: { title: \"\", genre: \"\", numberInStock: \"\", dailyRentalRate: \"\" },\r\n    errors: {},\r\n    genres: [],\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    const id = this.props.match.params.id;\r\n    let movie = await getMovie(id);\r\n    const genres = await getGenres();\r\n    if (movie) {\r\n      const { title, genre, numberInStock, dailyRentalRate } = movie;\r\n      let data = {\r\n        title: title,\r\n        genre: genre.name,\r\n        numberInStock: numberInStock,\r\n        dailyRentalRate: dailyRentalRate,\r\n      };\r\n      this.setState({ data, genres });\r\n    } else this.setState({ genres });\r\n  };\r\n\r\n  schema = {\r\n    title: Joi.string().required(),\r\n    genre: Joi.string().required(),\r\n    numberInStock: Joi.number().min(0).max(100).required(),\r\n    dailyRentalRate: Joi.number().min(0).max(10),\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const errors = this.validate();\r\n    this.setState({ errors });\r\n    if (Object.keys(errors).length === 0) {\r\n      const newMovie = { ...this.state.data };\r\n      let newGenre = this.state.genres.find(\r\n        (e) => e.name === this.state.data.genre\r\n      );\r\n      delete newMovie.genre;\r\n\r\n      newMovie.genreId = newGenre._id;\r\n      saveMovie(newMovie);\r\n      console.log(newMovie);\r\n      this.props.history.replace(\"/movies\");\r\n    }\r\n  };\r\n\r\n  validate = () => {\r\n    const result = Joi.validate(this.state.data, this.schema, {\r\n      abortEarly: false,\r\n    });\r\n    const errors = {};\r\n    if (result.error !== null)\r\n      for (let error of result.error.details) {\r\n        errors[error.path[0]] = error.message;\r\n      }\r\n    return errors;\r\n  };\r\n\r\n  handleChange = ({ currentTarget }) => {\r\n    let data = { ...this.state.data };\r\n    data[currentTarget.name] = currentTarget.value;\r\n    this.setState({ data });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <h1>Movie Form</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <Input\r\n            value={this.state.data.title}\r\n            name=\"title\"\r\n            onChange={this.handleChange}\r\n            errors={this.state.errors.title}\r\n          />\r\n          <Select\r\n            name=\"genre\"\r\n            onChange={this.handleChange}\r\n            items={this.state.genres}\r\n            errors={this.state.errors.genre}\r\n            value={this.state.data.genre}\r\n          />\r\n          <Input\r\n            value={this.state.data.numberInStock}\r\n            name=\"numberInStock\"\r\n            onChange={this.handleChange}\r\n            errors={this.state.errors.numberInStock}\r\n          />\r\n          <Input\r\n            value={this.state.data.dailyRentalRate}\r\n            name=\"dailyRentalRate\"\r\n            onChange={this.handleChange}\r\n            errors={this.state.errors.dailyRentalRate}\r\n          />\r\n          <button className=\"btn btn-primary\">Save</button>\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieForm;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Logout extends Component {\r\n  componentDidMount() {\r\n    localStorage.removeItem(\"token\");\r\n    window.location = \"/\";\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default Logout;\r\n","import './App.css';\nimport Movies from './components/movies';\nimport NavBar from './components/navbar';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Rentals from './components/rentals';\nimport Customers from './components/customers';\nimport NotFound from './components/notFound';\nimport Login from './components/login';\nimport jwtDecode from 'jwt-decode';\nimport Register from './components/register';\nimport MovieForm from './components/movieForm';\nimport { Component } from 'react';\nimport Logout from './components/logout';\n\nclass App extends Component {\n  state = {\n\n  }\n\n  componentDidMount() {\n    try {\n      let user = jwtDecode(localStorage.getItem('token'));\n      this.setState({ user });\n    }\n    catch (ex) { }\n  }\n\n  protectingRoute(path) {\n    return <Route path={path} render={props => {\n      if (!this.state.user) return <Redirect to={{\n        pathname: \"/login\",\n        state: {\n          location: props.location.pathname\n        }\n      }} />\n      return <MovieForm {...props} />\n    }} />\n  }\n\n  render() {\n    return (\n      <main className=\"container\">\n        <NavBar user={this.state.user} />\n        <Switch>\n          <Route path=\"/logout\" component={Logout} />\n          {this.protectingRoute(\"/movie/new\")}\n          <Route path=\"/rentals\" component={Rentals} />\n          <Route path=\"/login\" render={(props) => {\n            if (this.state.user) return <Redirect to=\"/\" />\n            return <Login {...props} />\n          }} />\n          <Route path=\"/register\" component={Register} />\n          <Route path=\"/customers\" component={Customers} />\n          {this.protectingRoute(\"/movies/:id\")}\n          <Route path=\"/movies\" render={(props) => <Movies user={this.state.user} {...props} />} />\n          <Redirect from=\"/\" exact to=\"/movies\" />\n          <Route path=\"/notfound\" component={NotFound} />\n          <Redirect to=\"/notfound\" />\n        </Switch>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'font-awesome/css/font-awesome.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nconsole.log(process.env)\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  ,\n  document.getElementsByClassName('container')[0]\n);\n"],"sourceRoot":""}