(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"apiUrlGenres":"http://localhost:3900/api/genres","apiUrlMovies":"http://localhost:3900/api/movies"}')},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(23),c=n.n(s),i=(n(45),n(46),n(28),n(12)),o=n(2),u=n(3),l=n(5),h=n(4),b=(n(47),n(6)),d=n.n(b),j=n(9);var p=[{_id:"5b21ca3eeb7f6fbccd471815",title:"Terminator",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:6,dailyRentalRate:2.5,publishDate:"2018-01-03T19:04:28.809Z",liked:!1,show:!0},{_id:"5b21ca3eeb7f6fbccd471816",title:"Die Hard",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:5,dailyRentalRate:2.5,liked:!1,show:!0},{_id:"5b21ca3eeb7f6fbccd471817",title:"Get Out",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:8,dailyRentalRate:3.5,liked:!1,show:!0},{_id:"5b21ca3eeb7f6fbccd471819",title:"Trip to Italy",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5,liked:!1,show:!0},{_id:"5b21ca3eeb7f6fbccd47181a",title:"Airplane",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5,liked:!1,show:!0},{_id:"5b21ca3eeb7f6fbccd47181b",title:"Wedding Crashers",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5,liked:!1,show:!0},{_id:"5b21ca3eeb7f6fbccd47181e",title:"Gone Girl",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:7,dailyRentalRate:4.5,liked:!1,show:!0},{_id:"5b21ca3eeb7f6fbccd47181f",title:"The Sixth Sense",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:4,dailyRentalRate:3.5,liked:!1,show:!0},{_id:"5b21ca3eeb7f6fbccd471821",title:"The Avengers",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:7,dailyRentalRate:3.5,liked:!1,show:!0}];function m(e){p.map((function(t){t._id===e&&(t.liked=!0)}))}function f(e){p.map((function(t){t._id===e&&(t.liked=!1)}))}n(49);var v=n(0),O=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.makeTheArray();return Object(v.jsx)("nav",{"aria-label":"Page navigation example",children:Object(v.jsx)("ul",{className:"pagination",children:t.map((function(t){return Object(v.jsx)("li",{className:e.props.currentPage===t?"page-item active":"page-item",onClick:function(){e.props.changePage(t)},children:Object(v.jsx)("a",{className:"page-link",children:t})},t)}))})})}},{key:"makeTheArray",value:function(){for(var e=[],t=this.props,n=t.numOfMovies/t.pageSize,a=0;a<n;a++)e.push(a+1);return 1===e.length&&e.shift(),e}}]),n}(a.Component),g=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.genre,n=e.genreChange,a=e.currentGenre;return Object(v.jsxs)("ul",{className:"list-group m-2",children:[Object(v.jsx)("li",{className:"list-group-item",onClick:function(){n("All")},children:"All genres"}),t.map((function(e){var t="list-group-item";return t+=e.name===a?" active":"",Object(v.jsx)("li",{className:t,onClick:function(){n(e.name)},children:e.name},e.name)}))]})}}]),n}(a.Component),x=n(20),y=n.n(x),k=n(40);y.a.defaults.headers.common["x-auth-token"]=localStorage.getItem("token"),y.a.interceptors.response.use(null,(function(e){if(e.response&&e.response.status>=400&&e.response.status<500)return Promise.reject(e);console.log("Unexpected error happened"),k.a.error("Unexpected error")}));var S={get:y.a.get,post:y.a.post,delete:y.a.delete,put:y.a.put,log:function(){console.log("re called")}},C=n(18);function w(){return R.apply(this,arguments)}function R(){return(R=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(C.apiUrlGenres);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return N.apply(this,arguments)}function N(){return(N=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(C.apiUrlMovies);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return A.apply(this,arguments)}function A(){return(A=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.delete(C.apiUrlMovies+"/".concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return P.apply(this,arguments)}function P(){return(P=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.get(C.apiUrlMovies+"/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function D(e){return M.apply(this,arguments)}function M(){return(M=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t);case 3:return n=e.sent,n.data,e.next=7,S.put(C.apiUrlMovies,t);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,S.post(C.apiUrlMovies,t);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var U=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsx)(r.a.Fragment,{children:this.determineHeart()})}},{key:"determineHeart",value:function(){var e=this;return this.props.movie.liked?Object(v.jsx)("i",{className:"fa fa-heart","aria-hidden":"true",onClick:function(){e.props.dislikeIt(e.props.movie._id)}}):Object(v.jsx)("i",{className:"fa fa-heart-o","aria-hidden":"true",onClick:function(){e.props.likeIt(e.props.movie._id)}})}}]),n}(a.Component),G=n(10),E=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;console.log(this.props.user);var t=this.props,n=t.movies,a=t.likeIt,r=t.dislikeIt,s=t.handleDeletion,c=t.onSort;return 0===n.length?Object(v.jsx)("h3",{children:"Sorry No Movies"}):Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{onClick:function(){c("title","text")},children:"Title"}),Object(v.jsx)("th",{onClick:function(){c("genre","text")},children:"Genre"}),Object(v.jsx)("th",{onClick:function(){c("numberInStock","numeric")},children:"Stock"}),Object(v.jsx)("th",{onClick:function(){c("dailyRentalRate","numeric")},children:"Rate"}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{})]})}),Object(v.jsx)("tbody",{children:n.map((function(t,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)(G.b,{to:"/movies/".concat(t._id),children:t.title})}),Object(v.jsx)("td",{children:t.genre.name}),Object(v.jsx)("td",{children:t.numberInStock}),Object(v.jsx)("td",{children:t.dailyRentalRate}),Object(v.jsx)("td",{children:Object(v.jsx)(U,{movie:t,likeIt:a,dislikeIt:r})}),Object(v.jsx)("td",{children:e.props.user&&e.props.user.isAdmin&&Object(v.jsx)("button",{onClick:function(){s(t)},children:"Delete"})})]},t.title)}))})]})}}]),n}(a.Component),F={numeric:function(e,t,n){return e.sort((function(e,a){return e[t]>a[t]?"acs"===n?-1:1:"acs"===n?1:-1})),e},text:function(e,t,n){return e.sort((function(e,a){return"genre"===t?(e=e[t].name,a=a[t].name):(e=e[t],a=a[t]),e>a?"acs"===n?-1:1:"acs"===n?1:-1})),e}},q=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,a=e.onChange,r=e.errors,s=e.type,c=void 0===s?"text":s;return Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:t,children:t}),Object(v.jsx)("input",{id:t,type:c,className:"form-control",value:n,onChange:a,name:t}),r&&Object(v.jsx)("div",{className:"alert alert-danger",children:r})]})}}]),n}(a.Component),H=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],genres:[],pageSize:4,currentPage:1,currentGenre:"All",order:"acs",search:""},e.handleChange=function(t){var n=t.target.value;e.setState({search:n,currentGenre:"All"})},e.search=function(t){var n=e.state.search.toLowerCase();return t.filter((function(e){return e.title.toLowerCase().includes(n)}))},e.onSort=function(t,n){var a=F[n](e.state.movies,t,e.state.order);e.setState({movies:a,order:"acs"===e.state.order?"des":"acs"})},e.changePage=function(t){e.setState({currentPage:t})},e.genreChange=function(t){e.setState({currentGenre:t,currentPage:1,search:""})},e.changeContent=function(t){var n=e.state,a=n.pageSize,r=(n.currentPage-1)*a;return t.filter((function(e,t){return t>=r&&t<r+a}))},e.listOfGenre=function(){var t=e.state,n=t.currentGenre,a=t.movies;return"All"===n?a:a.filter((function(e){return e.genre.name===n}))},e.handleDeletion=function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(n._id);case 2:return t.t0=e,t.next=5,I();case 5:t.t1=t.sent,t.t2={movies:t.t1},t.t0.setState.call(t.t0,t.t2);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.likeIt=function(t){m(t),e.setState({movies:I()})},e.dislikeIt=function(t){f(t),e.setState({movies:I()})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,e.next=5,I();case 5:n=e.sent,this.setState({genres:t,movies:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.listOfGenre(),t=(e=this.search(e)).length;return e=this.changeContent(e),Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(g,{genre:this.state.genres,genreChange:this.genreChange,currentGenre:this.state.currentGenre}),this.props.user&&Object(v.jsx)(G.b,{className:"btn btn-primary m-2",to:"/movie/new",children:"New Movie"}),Object(v.jsxs)("h1",{children:["Showing ",t," movies"]}),Object(v.jsx)(q,{name:"search",onChange:this.handleChange,value:this.state.search}),Object(v.jsx)(E,{movies:e,handleDeletion:this.handleDeletion,likeIt:this.likeIt,dislikeIt:this.dislikeIt,onSort:this.onSort,user:this.props.user}),Object(v.jsx)(O,{numOfMovies:t,pageSize:this.state.pageSize,changePage:this.changePage,currentPage:this.state.currentPage})]})}}]),n}(a.Component),L=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return console.log(this.props.user),Object(v.jsx)("nav",{className:"navbar navbar-light bg-light m-2",children:Object(v.jsxs)("div",{className:"container-fluid",children:[Object(v.jsx)(G.c,{className:"navbar-brand",to:"/movies",children:"Movies"}),Object(v.jsx)(G.c,{className:"navbar-brand",to:"/customers",children:"Customers"}),Object(v.jsx)(G.c,{className:"navbar-brand",to:"/rentals",children:"Rentals"}),this.determineUser()]})})}},{key:"determineUser",value:function(){return this.props.user?Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(G.c,{className:"navbar-brand",to:"/profile",children:this.props.user.name}),Object(v.jsx)(G.c,{className:"navbar-brand",to:"/logout",children:"Log out"})]}):Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(G.c,{className:"navbar-brand",to:"/login",children:"Log in"}),Object(v.jsx)(G.c,{className:"navbar-brand",to:"/register",children:"Register"})]})}}]),n}(a.Component),z=n(7),W=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsx)("h1",{children:"Hello I'm Rentals"})}}]),n}(a.Component),J=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsx)("h1",{children:"Hello I'm Customer"})}}]),n}(a.Component),K=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsx)("h1",{children:"Not Found 404"})}}]),n}(a.Component),B=n(21),V=n(11),Z=n.n(V);function Q(e){return S.post("http://localhost:3900/api/users",e)}function X(e,t){return S.post("http://localhost:3900/api/auth",{email:e,password:t})}S.log();var Y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).userName=r.a.createRef(),e.state={account:{username:"",password:""},errors:{}},e.schema={username:Z.a.string().required(),password:Z.a.string().required()},e.handleSubmit=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r,s,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.validate(),e.setState({errors:a}),r=Object(i.a)({},e.state.account),t.prev=4,t.next=7,X(r.username,r.password);case 7:s=t.sent,c=s.data,localStorage.setItem("token",c),window.location="/",t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),t.t0.response&&400===t.t0.response.status&&alert(t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),e.validateInput=function(e){return"username"===e.name&&""===e.value?"Username is required":"password"===e.name&&""===e.value?"Password is required":void 0},e.handleChange=function(t){var n=Object(i.a)({},e.state.errors),a=t.currentTarget,r=a.name,s=a.value,c=e.validateInput(t.currentTarget);c?n[r]=c:delete n[r];var o=Object(i.a)({},e.state.account);o[r]=s,e.setState({account:o,errors:n})},e}return Object(u.a)(n,[{key:"validate",value:function(){var e=Z.a.validate(this.state.account,this.schema,{abortEarly:!1});if(!e.error)return null;var t,n={},a=Object(B.a)(e.error.details);try{for(a.s();!(t=a.n()).done;){var r=t.value;n[r.path[0]]=r.message}}catch(s){a.e(s)}finally{a.f()}return 0===Object.keys(n)?{}:n}},{key:"render",value:function(){return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)("h1",{children:"Log in"}),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)(q,{id:"username",value:this.state.account.username,onChange:this.handleChange,name:"username",errors:null===this.state.errors?"":this.state.errors.username}),Object(v.jsx)(q,{id:"password",value:this.state.account.password,onChange:this.handleChange,name:"password",type:"password",errors:null===this.state.errors?"":this.state.errors.password}),Object(v.jsx)("button",{className:"btn btn-primary",disabled:this.validate(),children:"Submit"})]})]})}}]),n}(a.Component),$=n(39),ee=n(16),te=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={account:{username:"",password:"",name:""},errors:{}},e.schema={password:Z.a.string().min(5).required(),username:Z.a.string().email().required(),name:Z.a.string().required()},e.handleSubmit=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.validate(),e.setState({errors:a}),"Object"!==typeof error){t.next=7;break}console.log("Hello"),t.next=22;break;case 7:return t.prev=7,(r=Object(i.a)({},e.state.account)).email=r.username,delete r.username,console.log(r),t.next=14,Q(r);case 14:s=t.sent,localStorage.setItem("token",s.headers["x-auth-token"]),window.location="/",t.next=22;break;case 19:t.prev=19,t.t0=t.catch(7),t.t0.response&&400===t.t0.response.status&&alert("User already there");case 22:case"end":return t.stop()}}),t,null,[[7,19]])})));return function(e){return t.apply(this,arguments)}}(),e.validate=function(t){var n=Z.a.validate(e.state.account,e.schema,{abortEarly:!1}),a={};if(n.error){var r,s=Object(B.a)(n.error.details);try{for(s.s();!(r=s.n()).done;){var c=r.value;a[c.path[0]]=c.message}}catch(i){s.e(i)}finally{s.f()}}return 0===Object.keys(a).length||a},e.handleChange=function(t){var n=t.currentTarget,a=Object(i.a)({},e.state.account);a[n.name]=n.value,e.setState({account:a})},e}return Object(u.a)(n,[{key:"render",value:function(){var e,t,n;return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)("h1",{children:"Register"}),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)(q,(e={value:this.state.account.username,name:"username"},Object(ee.a)(e,"value",this.state.username),Object(ee.a)(e,"onChange",this.handleChange),Object(ee.a)(e,"errors",this.state.errors.username),e)),Object(v.jsx)(q,(t={value:this.state.account.password,name:"password",type:"password"},Object(ee.a)(t,"value",this.state.username),Object(ee.a)(t,"onChange",this.handleChange),Object(ee.a)(t,"errors",this.state.errors.password),t)),Object(v.jsx)(q,(n={value:this.state.account.name,name:"name"},Object(ee.a)(n,"value",this.state.username),Object(ee.a)(n,"onChange",this.handleChange),Object(ee.a)(n,"errors",this.state.errors.name),n)),Object(v.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})}}]),n}(a.Component),ne=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.onChange,a=e.items,r=e.errors,s=e.value;return Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:t,children:t}),Object(v.jsxs)("select",{id:t,name:t,onChange:n,className:"form-control",value:s,children:[Object(v.jsx)("option",{value:""}),a.map((function(e){return Object(v.jsx)("option",{value:e.name,children:e.name},e._id)}))]}),r&&Object(v.jsx)("div",{className:"alert alert-danger",children:r})]})}}]),n}(a.Component),ae=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:{title:"",genre:"",numberInStock:"",dailyRentalRate:""},errors:{},genres:[]},e.componentDidMount=Object(j.a)(d.a.mark((function t(){var n,a,r,s,c,i,o,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.id,t.next=3,T(n);case 3:return a=t.sent,t.next=6,w();case 6:r=t.sent,a?(s=a.title,c=a.genre,i=a.numberInStock,o=a.dailyRentalRate,u={title:s,genre:c.name,numberInStock:i,dailyRentalRate:o},e.setState({data:u,genres:r})):e.setState({genres:r});case 8:case"end":return t.stop()}}),t)}))),e.schema={title:Z.a.string().required(),genre:Z.a.string().required(),numberInStock:Z.a.number().min(0).max(100).required(),dailyRentalRate:Z.a.number().min(0).max(10)},e.handleSubmit=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,r,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a=e.validate(),e.setState({errors:a}),0===Object.keys(a).length&&(r=Object(i.a)({},e.state.data),s=e.state.genres.find((function(t){return t.name===e.state.data.genre})),delete r.genre,r.genreId=s._id,D(r),console.log(r),e.props.history.replace("/movies"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.validate=function(){var t=Z.a.validate(e.state.data,e.schema,{abortEarly:!1}),n={};if(null!==t.error){var a,r=Object(B.a)(t.error.details);try{for(r.s();!(a=r.n()).done;){var s=a.value;n[s.path[0]]=s.message}}catch(c){r.e(c)}finally{r.f()}}return n},e.handleChange=function(t){var n=t.currentTarget,a=Object(i.a)({},e.state.data);a[n.name]=n.value,e.setState({data:a})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)("h1",{children:"Movie Form"}),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)(q,{value:this.state.data.title,name:"title",onChange:this.handleChange,errors:this.state.errors.title}),Object(v.jsx)(ne,{name:"genre",onChange:this.handleChange,items:this.state.genres,errors:this.state.errors.genre,value:this.state.data.genre}),Object(v.jsx)(q,{value:this.state.data.numberInStock,name:"numberInStock",onChange:this.handleChange,errors:this.state.errors.numberInStock}),Object(v.jsx)(q,{value:this.state.data.dailyRentalRate,name:"dailyRentalRate",onChange:this.handleChange,errors:this.state.errors.dailyRentalRate}),Object(v.jsx)("button",{className:"btn btn-primary",children:"Save"})]})]})}}]),n}(a.Component),re=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){localStorage.removeItem("token"),window.location="/"}},{key:"render",value:function(){return null}}]),n}(a.Component),se=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){try{var e=Object($.a)(localStorage.getItem("token"));this.setState({user:e})}catch(t){}}},{key:"protectingRoute",value:function(e){var t=this;return Object(v.jsx)(z.b,{path:e,render:function(e){return t.state.user?Object(v.jsx)(ae,Object(i.a)({},e)):Object(v.jsx)(z.a,{to:{pathname:"/login",state:{location:e.location.pathname}}})}})}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("main",{className:"container",children:[Object(v.jsx)(L,{user:this.state.user}),Object(v.jsxs)(z.d,{children:[Object(v.jsx)(z.b,{path:"/logout",component:re}),this.protectingRoute("/movie/new"),Object(v.jsx)(z.b,{path:"/rentals",component:W}),Object(v.jsx)(z.b,{path:"/login",render:function(t){return e.state.user?Object(v.jsx)(z.a,{to:"/"}):Object(v.jsx)(Y,Object(i.a)({},t))}}),Object(v.jsx)(z.b,{path:"/register",component:te}),Object(v.jsx)(z.b,{path:"/customers",component:J}),this.protectingRoute("/movies/:id"),Object(v.jsx)(z.b,{path:"/movies",render:function(t){return Object(v.jsx)(H,Object(i.a)({user:e.state.user},t))}}),Object(v.jsx)(z.a,{from:"/",exact:!0,to:"/movies"}),Object(v.jsx)(z.b,{path:"/notfound",component:K}),Object(v.jsx)(z.a,{to:"/notfound"})]})]})}}]),n}(a.Component);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"Vildy in pro"})),c.a.render(Object(v.jsx)(G.a,{children:Object(v.jsx)(se,{})}),document.getElementsByClassName("container")[0])}},[[74,1,2]]]);
//# sourceMappingURL=main.93cbcae6.chunk.js.map